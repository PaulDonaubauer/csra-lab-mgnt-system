@import helper._
@import helpers.BootstrapHelper._
@(months: Integer)

@includes = {
	<script src="@routes.Assets.versioned("javascripts/Chart.min.js")"></script>
	<link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/chart.css")">
}

@scripts = {
	<script type="text/javascript">
        function ColorLuminance(hex, lum) {

        // validate hex string
        hex = String(hex).replace(/[^0-9a-f]/gi, '');
        if (hex.length < 6) {
            hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
        }

        lum = lum || 0;

        // convert to decimal and change luminosity
        var rgb = "#", c, i;

        for (i = 0; i < 3; i++) {
            c = parseInt(hex.substr(i*2,2), 16);
            c = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);
            rgb += ("00"+c).substr(c.length);
        }

        return rgb;
        }

        var data = {
            labels: ["Shoes", "Boots", "Pumps" ],
            datasets: [
        {
            label: "My First dataset",
            fillColor: "rgba(220,220,220,0.5)",
            strokeColor: "rgba(220,220,220,0.8)",
            highlightFill: "rgba(220,220,220,0.75)",
            highlightStroke: "rgba(220,220,220,1)",
            data: [65, 59, 80, 81, 56, 55, 40]
        },
        {
            label: "My Second dataset",
            fillColor: "rgba(151,187,205,0.5)",
            strokeColor: "rgba(151,187,205,0.8)",
            highlightFill: "rgba(151,187,205,0.75)",
            highlightStroke: "rgba(151,187,205,1)",
            data: [28, 48, 40, 19, 86, 27, 90]
        }
    ]};


        var options = {
            scaleShowVerticalLines: true,
            datasetFill : true,
            legendTemplate : "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"
        }


    var ctx = document.getElementById("myChart").getContext("2d");
    var myBarChart = new Chart(ctx).Bar(data, options);

	</script>
}

@main("Reports 2", scripts, includes){
	<h1> Report 2 </h2>
	<div class="col-md-6">
		<canvas id="myChart" width="400" height="400"></canvas>
		<div id="js-legend" class="chart-legend"></div>
	</div>
    <div class="col-md-6">
        <table id="data-table-no-filter" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Users</th>
                    <th>#</th>
                </tr>
            </thead>
            <tbody>
                @for(chash <- Ticket.categoryHash(months)) {
                <tr>
                    <td>
                        @chash._1
                    </td>
                    <td>
                        @chash._2
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>




}